---
title: "BCV Settore Giovanile Femminile"
format: 
  dashboard:
    nav-buttons: [github]
    github: https://github.com/mine-cetinkaya-rundel/ld-dashboard
logo: ../images/logo.png
theme: [sandstone, theme/custom.scss]
fig-width: 10
fig-asp: 0.3
params:
  year: "2024/2025"
  societa: "Basso Canavese Volley"
  settore: "Giovanile"
  genere: "Femminile"
  anni: "2012 - 2013"
editor_options: 
  chunk_output_type: console
---

```{r}
#| label: load-packages
#| message: false

library(tidyverse)
library(readxl)
library(scales)
library(DT)
library(gt)
theme_set(theme_minimal(base_size = 24, base_family = "Atkinson Hyperlegible"))
library(bslib)
library(bsicons)
```

```{r}
#| label: set-inputs

time_period <- paste(params$year)
ciao2 <- "pink"
```

#  {.sidebar}

Questa dashboard mostra le statistiche per:

|                     |                      |
|---------------------|----------------------|
| **SocietÃ **         | `{r} params$societa` |
| **Settore**         | `{r} params$settore` |
| **Genere**          | `{r} params$genere`  |
| **Anni di nascita** | `{r} params$anni`    |
| **Stagione**        | `{r} time_period`    |

------------------------------------------------------------------------

Nella stagione `{r} time_period` nel settore `{r} params$settore` (`{r} params$genere`) sono presenti 3 squadre con il seguente numero di atleti:

|               |     |
|---------------|-----|
| **U13 FIPAV** | 14  |
| **U13 UISP**  | 14  |
| **U12 UISP**  | 14  |

------------------------------------------------------------------------

::: {.callout-note collapse="true"}
## Disclaimer

This is a test
:::

# Generale

## Row {height="30%"}
```{r}
if(fs::file_exists("data/allenamenti.RDS")){
  tmp <- readRDS("data/allenamenti.RDS")
  af <- nrow(tmp)
} else {
  af <- 0
}

if(fs::file_exists("data/partite.RDS")){
  tmp <- readRDS("data/partite.RDS")
  pg <- nrow(tmp)
} else {
  pg <- 0
}
```

::: {.valuebox icon="person-arms-up" color="#B4E815"}
<strong>[Numero di Atlete]{style="font-size: 40px;"}</strong>

`r 42`

:::


::: {.valuebox icon="card-checklist" color="#B4E815"}
<strong>[Allenamenti fatti]{style="font-size: 40px;"}</strong>

`r af`

`r paste0('<i class="bi bi-calendar3"></i>', " dal mese di Maggio 2024.")`
:::

::: {.valuebox icon="arrows-collapse-vertical" color="#E8A715"}
[Partite giocate]{style="font-size: 40px;"}

`r pg`

`r paste0('<i class="bi bi-calendar3"></i>', " dal mese di Maggio 2024.")`
:::


## Row {height="70%"}

### Pippo

# U13 FIPAV

```{r}
if(fs::file_exists("data/allenamenti.RDS")){
  tmp <- readRDS("data/allenamenti.RDS")
  af_u13f <- tmp |> 
          filter(team == "U13F") |> 
          nrow()
} else {
  af_u13f <- 0
}

if(fs::file_exists("data/partite.RDS")){
  tmp <- readRDS("data/partite.RDS")
  pg_u13f <- tmp |> 
           filter(team == "U13F") |> 
           nrow()
} else {
  pg_u13f <- 0
}

perc <- "red"
icon <- "x-octagon-fill"
np_u13f <- 2
```

## Row {height="30%"}

::: {.valuebox icon="card-checklist" color="#B4E815"}
<strong>[Allenamenti fatti]{style="font-size: 40px;"}</strong>

`r af_u13f`

`r paste0('<i class="bi bi-calendar3"></i>', " dal mese di Maggio 2024.")`
:::

::: {.valuebox icon="arrows-collapse-vertical" color="#E8A715"}
[Partite giocate]{style="font-size: 40px;"}

`r pg_u13f`

`r paste0('<i class="bi bi-calendar3"></i>', " dal mese di Maggio 2024.")`
:::

::: {.valuebox icon=`r icon` color=`r perc`}
[% partite vinte]{style="font-size: 40px;"}

`r paste0(pg_u13f, "%")`

`r paste0('<i class="bi bi-percent"></i>', " su ", np_u13f, " partite.")`
:::

## Row {height="70%"}

### Pippo

# U13 UISP

```{r}
if(fs::file_exists("data/allenamenti.RDS")){
  tmp <- readRDS("data/allenamenti.RDS")
  af_u13u <- tmp |> 
          filter(team == "U13F") |> 
          nrow()
} else {
  af_u13u <- 0
}

if(fs::file_exists("data/partite.RDS")){
  tmp <- readRDS("data/partite.RDS")
  pg_u13u <- tmp |> 
           filter(team == "U13F") |> 
           nrow()
} else {
  pg_u13u <- 0
}

perc <- "#15E831"
icon <- "award"
np_u13u <- 2
```

## Row {height="30%"}

::: {.valuebox icon="card-checklist" color="#B4E815"}
<strong>[Allenamenti fatti]{style="font-size: 40px;"}</strong>

`r af_u13u`

`r paste0('<i class="bi bi-calendar3"></i>', " dal mese di Maggio 2024.")`
:::

::: {.valuebox icon="arrows-collapse-vertical" color="#E8A715"}
[Partite giocate]{style="font-size: 40px;"}

`r pg_u13u`

`r paste0('<i class="bi bi-calendar3"></i>', " dal mese di Maggio 2024.")`
:::

::: {.valuebox icon=`r icon` color=`r perc`}
[% partite vinte]{style="font-size: 40px;"}

`r paste0(pg_u13u, "%")`

`r paste0('<i class="bi bi-percent"></i>', " su ", np_u13u, " partite.")`
:::

## Row {height="70%"}

### Pippo

# U12 UISP

## Row {height="30%"}

::: {.valuebox icon="card-checklist" color="#B4E815"}
<strong>[Allenamenti fatti]{style="font-size: 40px;"}</strong>

`r af`

`r paste0('<i class="bi bi-calendar3"></i>', " dal mese di Maggio 2024.")`
:::

::: {.valuebox icon="arrows-collapse-vertical" color="#E8A715"}
[Partite giocate]{style="font-size: 40px;"}

`r pg`

`r paste0('<i class="bi bi-calendar3"></i>', " dal mese di Maggio 2024.")`
:::

::: {.valuebox icon="arrows-collapse-vertical" color="#E8A715"}
[% partite vinte]{style="font-size: 40px;"}

`r pg`

`r paste0('<i class="bi bi-calendar3"></i>', " dal mese di Maggio 2024.")`
:::

## Row {height="70%"}

### Pippo
